<!DOCTYPE html>
<html lang="my">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Burme AI</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <link rel="manifest" href="app-manifest.json">
</head>
<body>
    <div class="app-container">
        <!-- Header with Settings Button -->
        <header class="app-header">
            <div class="header-left">
                <img src="assets/icons/logo.png" alt="Burme AI" class="logo">
                <h1>Burme AI</h1>
            </div>
            <div class="header-right">
                <button id="about-btn" class="icon-btn" title="About">
                    <i class="fas fa-info-circle"></i>
                </button>
                <button id="settings-btn" class="icon-btn" title="Settings">
                    <i class="fas fa-cog"></i>
                </button>
            </div>
        </header>

        <!-- Main Content -->
        <main class="app-main">
            <!-- Chat View -->
            <div id="chat-view" class="view active-view">
                <div id="chat-history" class="chat-history"></div>
                
                <div class="input-container">
                    <div class="input-actions">
                        <button id="image-upload-btn" class="icon-btn">
                            <i class="fas fa-image"></i>
                            <input type="file" id="image-upload" accept="image/*" hidden>
                        </button>
                        <button id="voice-input-btn" class="icon-btn">
                            <i class="fas fa-microphone"></i>
                        </button>
                    </div>
                    <textarea id="user-input" placeholder="သင့်မေးခွန်းကိုရေးပါ..."></textarea>
                    <button id="send-btn" class="send-btn">
                        <i class="fas fa-paper-plane"></i>
                    </button>
                </div>
            </div>

            <!-- History View -->
            <div id="history-view" class="view">
                <div class="history-header">
                    <h2>စကားပြောမှတ်တမ်း</h2>
                    <button id="clear-history" class="text-btn">ဖျက်ပစ်မည်</button>
                </div>
                <div id="history-list" class="history-list"></div>
            </div>

            <!-- Image View -->
            <div id="image-view" class="view">
                <div id="image-output-container"></div>
            </div>
        </main>

        <!-- Bottom Navigation -->
        <nav class="bottom-nav">
            <button class="nav-btn active" data-view="chat-view">
                <i class="fas fa-comment"></i>
                <span>Chat</span>
            </button>
            <button class="nav-btn" data-view="history-view">
                <i class="fas fa-history"></i>
                <span>History</span>
            </button>
            <button class="nav-btn" data-view="image-view">
                <i class="fas fa-images"></i>
                <span>Images</span>
            </button>
        </nav>
    </div>

    <!-- Settings Modal (Now replaced with settings.html) -->
    <!-- About Modal (Now replaced with about.html) -->

    <script src="scripts/history-manager.js"></script>
    <script src="scripts/settings-manager.js"></script>
    <script src="scripts/image-processor.js"></script>
    <script src="gemini-api.js"></script>
    <script src="script.js"></script>
    
    <script>
        // Add navigation to settings and about pages
        document.getElementById('settings-btn').addEventListener('click', () => {
            window.location.href = 'pages/settings.html';
        });
        
        document.getElementById('about-btn').addEventListener('click', () => {
            window.location.href = 'pages/about.html';
        });

        // Apply current theme on load
        document.addEventListener('DOMContentLoaded', () => {
            const settings = SettingsManager.getSettings();
            document.documentElement.setAttribute('data-theme', settings.darkMode ? 'dark' : 'light');
            
            if (settings.themeColor) {
                const colorValue = getColorValue(settings.themeColor);
                document.documentElement.style.setProperty('--primary-color', colorValue);
            }
            
            function getColorValue(color) {
                const colors = {
                    blue: '#4285f4',
                    green: '#34a853',
                    red: '#ea4335',
                    purple: '#9c27b0'
                };
                return colors[color] || '#4285f4';
            }
        });
    </script>
</body>
</html>
